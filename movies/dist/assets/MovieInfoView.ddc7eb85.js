import{_ as S,u as T,a as N,r as f,b as C,c as D,d as E,e as G,o as l,f as c,g as t,t as i,n as R,h as m,i as g,F as y,j as V,p as Y,k as $}from"./index.1448b2ad.js";const _=r=>(Y("data-v-779f13fc"),r=r(),$(),r),B={class:"movieSection"},U={class:"info"},j={class:"info-metadata"},A={class:"info-metadata-year"},F=_(()=>t("span",{class:"info-spacer"}," | ",-1)),H={class:"info-time info-spacer"},L=_(()=>t("span",{class:"info-spacer"}," | ",-1)),z={class:"info-time info-spacer"},P={class:"info-desc"},q={class:"img-box"},J={key:0,class:"nmtitle-section"},K={class:"section-header"},O=_(()=>t("h2",{class:"section-header-text"},"\u5F71\u7247",-1)),Q={class:"section-subheader-text"},W={key:0,style:{margin:"16px 0"}},X=["src"],Z={key:1,class:"nmtitle-section"},ee=_(()=>t("div",{class:"section-header"},[t("h2",{class:"section-header-text"},"\u985E\u4F3C\u5F71\u7247")],-1)),te={class:"section-body"},se={class:"similarMovies"},ae=["onClick"],oe=["src"],ie={class:"title"},le={setup(r){const b=T(),h=N().params.id,a=f({}),p=f({}),d=f([]);h?(C(h).then(e=>{console.log("res",e),a.value=e.data,x(e.data.genres)}),D(h).then(e=>{console.log("trailer",e.data),p.value=e.data})):alert("error");const v=E(()=>{var s;let e=(s=p.value.results)!=null&&s.length?p.value.results[0]:null,o=!1;return e&&e.site.toLowerCase()==="youtube"&&e.key&&(o=!0),o?e.key:null}),w=function(e){if(e)return e.split("-")[0]},M=e=>{if(e){let o="";const n=Math.floor(e/60),u=Math.floor(e%60);return n&&(o+=`${n} \u5C0F\u6642 `),u&&(o+=`${u} \u5206\u9418`),o}},k=e=>{if(e&&Array.isArray(e)&&e.length)return e[0].name},x=e=>{if(e&&e.length){let o=e.map(s=>s.id).join();G(1,o).then(s=>{let n=s.data.results;d.value=n.filter(u=>u.id!==a.value.id)})}};function I(e){b.push({path:`/movie/${e}`})}return(e,o)=>(l(),c(y,null,[t("div",B,[t("div",U,[t("h1",null,i(a.value.title),1),t("div",j,[t("span",A,i(w(a.value.release_date)),1),F,t("span",H,i(M(a.value.runtime)),1),L,t("span",z,i(k(a.value.genres)),1)]),t("div",P,i(a.value.overview),1)]),t("div",q,[t("div",{class:"img-bg",style:R({"background-image":"url(https://www.themoviedb.org/t/p/w1920_and_h800_multi_faces/"+a.value.backdrop_path+")"})},null,4)])]),m(v)?(l(),c("div",J,[t("div",K,[O,t("h2",Q,i(a.value.title),1)]),m(v)?(l(),c("div",W,[t("iframe",{width:"620",height:"350",src:"https://www.youtube.com/embed/"+m(v),title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,X)])):g("",!0)])):g("",!0),d.value&&d.value.length?(l(),c("div",Z,[ee,t("div",te,[t("div",se,[(l(!0),c(y,null,V(d.value,s=>(l(),c("div",{key:s.id,class:"similarMovies-item"},[t("a",{onClick:n=>I(s.id)},[t("img",{src:"https://image.tmdb.org/t/p/w250_and_h141_face"+s.backdrop_path,alt:""},null,8,oe),t("span",ie,i(s.title),1)],8,ae)]))),128))])])])):g("",!0)],64))}};var re=S(le,[["__scopeId","data-v-779f13fc"]]);export{re as default};
