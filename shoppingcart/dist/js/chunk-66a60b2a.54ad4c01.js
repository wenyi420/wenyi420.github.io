(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66a60b2a"],{2241:function(t,e,n){"use strict";var i,o=n("c31d"),a=n("2b0e"),s=n("d282"),c=n("ea8e"),l=n("b1d2"),r=n("6605"),u=n("b650"),d=Object(s["a"])("dialog"),f=d[0],m=d[1],h=d[2],v=f({mixins:[Object(r["a"])()],props:{title:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var e=this;this.$emit(t),this.value&&(this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,(function(n){!1!==n&&e.loading[t]&&e.onClose(t),e.loading.confirm=!1,e.loading.cancel=!1}))):this.onClose(t))},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){this.$emit("opened")},onClosed:function(){this.$emit("closed")},genButtons:function(){var t,e=this,n=this.$createElement,i=this.showCancelButton&&this.showConfirmButton;return n("div",{class:[l["c"],m("footer",{buttons:i})]},[this.showCancelButton&&n(u["a"],{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||h("cancel")},class:m("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){e.handleAction("cancel")}}}),this.showConfirmButton&&n(u["a"],{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||h("confirm")},class:[m("confirm"),(t={},t[l["a"]]=i,t)],style:{color:this.confirmButtonColor},on:{click:function(){e.handleAction("confirm")}}})])}},render:function(){var t,e=arguments[0];if(this.shouldRender){var n=this.message,i=this.messageAlign,o=this.slots(),a=this.slots("title")||this.title,s=a&&e("div",{class:m("header",{isolated:!n&&!o})},[a]),l=(o||n)&&e("div",{class:m("content")},[o||e("div",{domProps:{innerHTML:n},class:m("message",(t={"has-title":a},t[i]=i,t))})]);return e("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||n},class:[m(),this.className],style:{width:Object(c["a"])(this.width)}},[s,l,this.genButtons()])])}}}),p=n("a142");function b(t){return document.body.contains(t)}function C(){i&&i.$destroy(),i=new(a["default"].extend(v))({el:document.createElement("div"),propsData:{lazyRender:!1}}),i.$on("input",(function(t){i.value=t}))}function g(t){return p["e"]?Promise.resolve():new Promise((function(e,n){i&&b(i.$el)||C(),Object(o["a"])(i,g.currentOptions,t,{resolve:e,reject:n})}))}g.defaultOptions={value:!0,title:"",width:"",message:"",overlay:!0,className:"",lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!1,closeOnClickOverlay:!1,callback:function(t){i["confirm"===t?"resolve":"reject"](t)}},g.alert=g,g.confirm=function(t){return g(Object(o["a"])({showCancelButton:!0},t))},g.close=function(){i&&(i.value=!1)},g.setDefaultOptions=function(t){Object(o["a"])(g.currentOptions,t)},g.resetDefaultOptions=function(){g.currentOptions=Object(o["a"])({},g.defaultOptions)},g.resetDefaultOptions(),g.install=function(){a["default"].use(v)},g.Component=v,a["default"].prototype.$dialog=g;e["a"]=g},"2cd9":function(t,e,n){},"2fcb":function(t,e,n){},"31b8":function(t,e,n){},"49d6":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"pageTitle"},[t._v("客戶訂單列表")]),n("div",{staticClass:"orderList"},t._l(t.orderListData,(function(e){return n("orderListItem",{key:e.id,attrs:{item:e},on:{UPDATE_ORDERLIST:t.updateOrderList}})})),1)])},o=[],a=(n("c740"),n("d81d"),n("a434"),n("e17f"),n("2241")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item"},[n("div",{staticClass:"item-col item-col-2 time"},[n("label",{staticClass:"title"},[t._v("日期")]),n("p",{staticClass:"content"},[t._v(t._s(t.item.time))])]),n("div",{staticClass:"item-col item-col-4 name"},[n("label",{staticClass:"title"},[t._v("姓名")]),n("p",{staticClass:"content"},[t._v(t._s(t.item.name))])]),n("div",{staticClass:"item-col item-col-3 phone"},[n("label",{staticClass:"title"},[t._v("電話")]),n("p",{staticClass:"content"},[t._v(t._s(t.item.phone))])]),n("div",{staticClass:"item-col item-col-3 email"},[n("label",{staticClass:"title"},[t._v("信箱")]),n("p",{staticClass:"content"},[t._v(t._s(t.item.email))])]),n("div",{staticClass:"item-col item-col-2 totalPrice"},[n("label",{staticClass:"title"},[t._v("總金額")]),n("p",{staticClass:"content"},[t._v(t._s(t.item.totalPrice))])]),n("div",{staticClass:"item-col item-col-2 payStatus"},[n("label",{staticClass:"title"},[t._v("狀態")]),n("p",{staticClass:"content"},[t.item.isPay?n("span",{staticClass:"text-success"},[t._v("已付款")]):n("span",{staticClass:"text-danger"},[t._v("未付款")])])]),n("div",{staticClass:"item-col item-col-2 edit"},[n("label",{staticClass:"title"},[t._v("編輯訂單")]),n("p",{staticClass:"content"},[n("span",{staticClass:"btn edit",on:{click:t.goEditPage}},[t._v("詳細")])])]),n("div",{staticClass:"item-col item-col-2 delete"},[n("label",{staticClass:"title"},[t._v("刪除訂單")]),n("p",{staticClass:"content"},[n("span",{staticClass:"btn delete",on:{click:t.deleteOrder}},[t._v("刪除")])])])])},c=[],l=n("aa00"),r={name:"orderListItem",data:function(){return{}},props:{item:{type:Object,require:!0}},methods:{goEditPage:function(){this.$router.push("/admin/editOrder/".concat(this.item.id))},deleteOrder:function(){var t=this,e=this.item.id;Object(l["a"])(e).then((function(n){t.$emit("UPDATE_ORDERLIST",e),console.log("刪除成功",n)})).catch((function(t){console.log("刪除失敗",t)}))}}},u=r,d=(n("b8d7"),n("2877")),f=Object(d["a"])(u,s,c,!1,null,"f585ba4e",null),m=f.exports,h={name:"orderList",beforeCreate:function(){var t=localStorage.getItem("Authorization");t||(Object(a["a"])({message:"請登入後台"}),this.$router.push("/login"))},data:function(){return{orderListData:[]}},components:{orderListItem:m},mounted:function(){},created:function(){var t=this;Object(l["d"])().then((function(e){console.log(e),t.orderListData=e.data})).catch((function(t){console.log("test orderlist error",t)}))},methods:{updateOrderList:function(t){var e=this.orderListData.map((function(t){return t.id})).findIndex((function(e){return e===t}));this.orderListData.splice(e,1)}}},v=h,p=(n("5d80"),Object(d["a"])(v,i,o,!1,null,null,null));e["default"]=p.exports},"5d80":function(t,e,n){"use strict";var i=n("2cd9"),o=n.n(i);o.a},aa00:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return r})),n.d(e,"b",(function(){return u}));var i=n("c682"),o="https://vueshopcart.herokuapp.com",a=function(){return Object(i["a"])("get","".concat(o,"/orderlist"))},s=function(t){return Object(i["a"])("delete","".concat(o,"/orderlist/").concat(t))},c=function(t){return Object(i["a"])("get","".concat(o,"/orderlist/").concat(t))},l=function(t,e){return Object(i["a"])("patch","".concat(o,"/orderlist/").concat(t),e)},r=function(t){return Object(i["a"])("post","".concat(o,"/orderlist"),t)},u=function(){return Object(i["a"])("get","".concat(o,"/admin"))}},b8d7:function(t,e,n){"use strict";var i=n("31b8"),o=n.n(i);o.a},c740:function(t,e,n){"use strict";var i=n("23e7"),o=n("b727").findIndex,a=n("44d2"),s=n("ae40"),c="findIndex",l=!0,r=s(c);c in[]&&Array(1)[c]((function(){l=!1})),i({target:"Array",proto:!0,forced:l||!r},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a(c)},d81d:function(t,e,n){"use strict";var i=n("23e7"),o=n("b727").map,a=n("1dde"),s=n("ae40"),c=a("map"),l=s("map");i({target:"Array",proto:!0,forced:!c||!l},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},e17f:function(t,e,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("4d75"),n("e3b3"),n("bc1b"),n("2fcb")}}]);
//# sourceMappingURL=chunk-66a60b2a.54ad4c01.js.map